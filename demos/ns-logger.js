/*! NsLogger | (c) StÃ©phane Francel | https://github.com/avine/ns-logger */
((exports)=>{"use strict";var Severity;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Trace=0]="Trace",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Silent=4]="Silent"}(Severity=exports.Severity||(exports.Severity={}));const LOG_LEVELS=["trace","log","warn","error"];exports.bindTo={console:(e,t)=>console[e].bind(console,`[${t}]`),noop:function(){}};const loggerBuilder=(e,t)=>LOG_LEVELS.reduce((r,o,s)=>(r[o]=s>=t?exports.bindTo.console(o,e):exports.bindTo.noop,r),{});class Logger{constructor(e,t){this.namespace=e,this.severity=t,this.level=t}get name(){return this.namespace}get level(){return this.severity}set level(e){this.severity=e,Object.assign(this,loggerBuilder(this.namespace,e))}}exports.Logger=Logger,exports.getSeverityState=(e=>e.split(";").reduce((e,t)=>{const r=t.split("="),o=r[0].trim(),s=+(r[1]||"").trim();return o&&Severity[s]in Severity&&(e[o]=s),e},{}));const getStoredSeverityState=()=>{try{return exports.getSeverityState(localStorage.getItem("NsLogger")||"")}catch(e){return{}}};exports.severityState=getStoredSeverityState(),exports.loggerState={},exports.cleanStates=(()=>[exports.severityState,exports.loggerState].forEach(e=>Object.keys(e).forEach(t=>delete e[t])));const DEF_SEVERITY=Severity.Warn;exports.getLogger=((e,t=DEF_SEVERITY)=>{if(exports.loggerState[e])return exports.loggerState[e];let r=exports.severityState[e];if(void 0===r){const[t,o]=e.split(":");o&&(r=exports.severityState[`${t}:*`]),void 0===r&&(r=exports.severityState["*"])}return exports.loggerState[e]=new Logger(e,void 0!==r?r:t)});})(this.NsLogger=this.NsLogger||{});