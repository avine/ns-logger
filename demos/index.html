
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Demo | NsLogger</title>

  <script type="text/javascript" src="ns-logger.js"></script>

  <style>
    html { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    h1 { font-weight: 400; }
    p { margin: 1.5rem 0; line-height: 1.5rem; }
    code { color: dodgerblue; }
  </style>
</head>
<body>
  <h1>NsLogger</h1>
  <p>Open the console to see the logs and check the source code to understand what's happening!</p>

  <p>
    <em>1. Enter the following in the console and refresh the page:</em><br>
    <code>localStorage.setItem('NsLogger', 'ModuleA:Feature1 = 0; ModuleA:Feature2 = 1; ModuleA:* = 2; ModuleB = 3; * = 4');</code>
  </p>

  <p>
    <em>2. Enter the following in the console and refresh the page:</em><br>
    <code>localStorage.removeItem('NsLogger');</code>
  </p>

  <script>
    const hasStorage = localStorage.getItem('NsLogger');

    const info = NsLogger.getLogger('Info');
    info.level = NsLogger.Severity.Log; // = 1

    const logger= NsLogger.getLogger('Module');

    if (!hasStorage) {
      info.log('-> Default settings (only `warn` and `error`):');

      logger.trace('Trace', '** Hidden **');
      logger.log('Log', '** Hidden **');
      logger.warn('Warn', 'Ok');
      logger.error('Error', 'Ok');
    }

    info.log('-> Changing the logger level to see also `log` and `trace`:');

    logger.level = 0;
    logger.trace('Trace', 'Ok');
    logger.log('Log', 'Ok');
    logger.warn('Warn', 'Ok');
    logger.error('Error', 'Ok');

    if (hasStorage) {
      info.log('-> Set level from localStorage:');

      info.log('ModuleA:Feature1', NsLogger.getLogger('ModuleA:Feature1').level); // = 0
      info.log('ModuleA:Feature2', NsLogger.getLogger('ModuleA:Feature2').level); // = 1
      info.log('ModuleA:Feature3', NsLogger.getLogger('ModuleA:Feature3').level); // = 2
      info.log('moduleB', NsLogger.getLogger('ModuleB').level); // = 3
      info.log('moduleC', NsLogger.getLogger('ModuleC').level); // = 4
    }
  </script>
</html>
