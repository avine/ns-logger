/*! NsLogger | (c) StÃ©phane Francel | https://github.com/avine/ns-logger */
(function(exports){"use strict";var Severity;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Trace=0]="Trace",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Silent=4]="Silent"}(Severity=exports.Severity||(exports.Severity={}));var settings={defaultSeverity:Severity.Warn,disabled:!1};exports.setDefaultSeverity=function(e){settings.defaultSeverity=e},exports.disableInProduction=function(){settings.disabled=!0};var LOG_LEVELS=["trace","log","warn","error"];exports.bindTo={console:function(e,t){return console[e].bind(console,"["+t+"]")},noop:function(){}};var loggerBuilder=function(e,t){return LOG_LEVELS.reduce(function(r,o,i){var n=i>=t&&!settings.disabled;return r[o]=n?exports.bindTo.console(o,e):exports.bindTo.noop,Object.defineProperty(r[o],"enabled",{value:n,writable:!1}),r},{})},Logger=function(){function e(e,t){this.namespace=e,this.severity=t,this.level=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.namespace},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.severity},set:function(e){this.severity=e;var t=loggerBuilder(this.namespace,e);this.trace=t.trace,this.log=t.log,this.warn=t.warn,this.error=t.error},enumerable:!0,configurable:!0}),e}();exports.Logger=Logger,exports.getSeverityState=function(e){return e.split(";").reduce(function(e,t){var r=t.split("="),o=r[0].trim(),i=+r[1];return o&&Severity[i]in Severity&&(e[o]=i),e},{})};var getStoredSeverityState=function(){try{var e=localStorage.getItem("NsLogger");if(e)return exports.getSeverityState(e)}catch(e){}return{}};exports.state={severity:getStoredSeverityState(),logger:{}},exports.cleanState=function(){exports.state.severity={},exports.state.logger={}};var getSeverity=function(e){var t=exports.state.severity[e];if(void 0===t){var r=e.split(":"),o=r[0];r[1]&&(t=exports.state.severity[o+":*"]),void 0===t&&(t=exports.state.severity["*"]),void 0===t&&(t=settings.defaultSeverity)}return t};exports.getLogger=function(e){return exports.state.logger[e]?exports.state.logger[e]:exports.state.logger[e]=new Logger(e,getSeverity(e))};})(this.NsLogger=this.NsLogger||{});