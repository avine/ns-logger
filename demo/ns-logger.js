/*! NsLogger | (c) StÃ©phane Francel | https://github.com/avine/ns-logger */
(function(exports){"use strict";var Level;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Trace=0]="Trace",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Silent=4]="Silent"}(Level=exports.Level||(exports.Level={}));var settings={defaultLevel:Level.Warn,disabled:!1};exports.setDefaultLevel=function(e){settings.defaultLevel=e},exports.disableInProduction=function(){settings.disabled=!0};var SEVERITIES=["trace","log","warn","error"];exports.bindTo={console:function(e,t){return console[e].bind(console,"["+t+"]")},noop:function(){}};var loggerBuilder=function(e,t){return SEVERITIES.reduce(function(r,o,n){var l=n>=t&&!settings.disabled;return r[o]=l?exports.bindTo.console(o,e):exports.bindTo.noop,Object.defineProperty(r[o],"enabled",{value:l,writable:!1}),r},{})},Logger=function(){function e(e,t){this.ns=e,this.lvl=t,this.level=t}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.ns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.lvl},set:function(e){this.lvl=e;var t=loggerBuilder(this.ns,e);this.trace=t.trace,this.log=t.log,this.warn=t.warn,this.error=t.error},enumerable:!0,configurable:!0}),e}();exports.Logger=Logger,exports.getLevelState=function(e){return e.split(";").reduce(function(e,t){var r=t.split("="),o=r[0].trim(),n=+r[1];return o&&Level[n]in Level&&(e[o]=n),e},{})};var getStoredLevelState=function(){try{var e=localStorage.getItem("NsLogger");if(e)return exports.getLevelState(e)}catch(e){}return{}};exports.state={level:getStoredLevelState(),logger:{}},exports.cleanState=function(){exports.state.level={},exports.state.logger={}};var getLevel=function(e){var t=exports.state.level[e];if(void 0===t){var r=e.split(":"),o=r[0];r[1]&&(t=exports.state.level[o+":*"]),void 0===t&&(t=exports.state.level["*"]),void 0===t&&(t=settings.defaultLevel)}return t};exports.getLogger=function(e){return exports.state.logger[e]?exports.state.logger[e]:exports.state.logger[e]=new Logger(e,getLevel(e))};})(this.NsLogger=this.NsLogger||{});